<div class="container-fluid px-4 py-3">
  <!-- Tasks Grid -->
  <div class="tasks-grid">
    <div class="row g-4">
      <div class="col-xl-4 col-lg-6 col-md-6" *ngFor="let task of tasks; trackBy: trackByTaskId">
        <div class="task-card" [attr.data-status]="task.status">
          <div class="card-glow"></div>
          <div class="task-card-header">
            <div class="task-priority" [ngClass]="getPriorityClass(task)">
              <div class="priority-dot"></div>
            </div>
          </div>

          <div class="task-content">
            <h5 class="task-title">{{ task.name }}</h5>
            <div class="task-meta mb-3">
              <div class="task-assignee">
                <div class="avatar">
                  <i class="fas fa-user"></i>
                </div>
                <span>{{ task.user?.firstName }} {{ task.user?.lastName }}</span>
              </div>
            </div>
            <p class="task-description">{{ task.description }}</p>
          </div>

          <div class="task-footer">
            <div class="task-badges mb-3">
              <span class="task-type-badge" [ngClass]="getTypeClass(task.type)">
                {{ task.type }}
              </span>
              <span class="task-status-badge" [ngClass]="getStatusClass(task.status)">
                <i class="status-icon" [ngClass]="getStatusIcon(task.status)"></i>
                {{ getStatusLabel(task.status) }}
              </span>
            </div>
            <div class="task-timestamp">
              <i class="fas fa-clock me-1"></i>
              <small>{{ task.created ? (task.created | date:'MMM d, y') : 'No date' }}</small>
            </div>
          </div>

          <!-- Progress bar for In Progress tasks -->
          <div class="task-progress" *ngIf="task.status === 'InProgress'">
            <div class="progress-bar">
              <div class="progress-fill" [style.width]="getTaskProgress(task) + '%'"></div>
            </div>
            <small class="progress-text">{{ getTaskProgress(task) }}% Complete</small>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div class="empty-state" *ngIf="tasks.length === 0">
    <div class="empty-illustration">
      <i class="fas fa-clipboard-list"></i>
    </div>
    <h3>No tasks found</h3>
    <p>Start by creating your first task to get organized!</p>
    <button class="btn-primary-custom">
      <i class="fas fa-plus me-2"></i>Create Task
    </button>
  </div>
</div>